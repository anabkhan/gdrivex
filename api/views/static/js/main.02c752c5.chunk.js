(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},68:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(14),i=n.n(s),r=(n(62),n(10)),o=(n(63),n(22)),l=(o.a.initializeApp({apiKey:"AIzaSyAv-an02bKJiAYmclEBnnYrksgvAZnyHrA",authDomain:"gdrivex-f98fc.firebaseapp.com",projectId:"gdrivex-f98fc",storageBucket:"gdrivex-f98fc.appspot.com",messagingSenderId:"972070014032",appId:"1:972070014032:web:f5f4b698f57154e0a49555",measurementId:"G-5Y7C9TME5P"}),o.a.auth()),d=new o.a.auth.GoogleAuthProvider,j=(o.a.storage(),o.a.firestore(),n(101)),u=(n(68),n(50)),b=n.n(u),h=n(51),p=n.n(h),f="/",O="getUploadStatus",m=function(e){return fetch(f+e).then((function(e){return e.json()}))},x=function(e,t){return fetch(f+e,{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},v=n(3),g=function(e){e.id;var t=e.caption,n=e.size,c=e.onDeleted;return Object(v.jsx)("div",{className:"fileItem",children:Object(v.jsxs)("a",{children:[Object(v.jsxs)("div",{className:"fileItem--left",children:[Object(v.jsx)(j.a,{}),Object(v.jsx)("p",{children:t})]}),Object(v.jsxs)("div",{className:"fileItem--right",children:[Object(v.jsx)("p",{children:function(e){var t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB"][t]}(n)}),Object(v.jsxs)("div",{children:[Object(v.jsx)("a",{href:"".concat(f).concat("downloadFile","?name=").concat(t),target:"_blank",download:!0,style:{marginRight:"10px"},children:Object(v.jsx)(b.a,{style:{color:"rgb(51, 103, 214)"}})}),Object(v.jsx)("span",{onClick:function(){x("".concat("deleteFile","?name=").concat(t),{name:t}).then((function(e){alert("File deletion started"),setTimeout((function(){c()}),2e3)})).catch((function(e){console.log("File deletion failed",e),alert("File deletion faild")}))},children:Object(v.jsx)(p.a,{style:{color:"red",cursor:"pointer"}})})]})]})]})})},y=(n(75),n(76),function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],s=function(){m("listFiles").then((function(e){var t=Object.keys(e.data),n=[];t.forEach((function(t){var c=e.data[t].file;n.push({id:c.name,item:c})})),a(n),console.log("files",n)})).catch((function(e){console.log(e),alert(e)}))};return Object(c.useEffect)((function(){s()}),[]),Object(v.jsx)("div",{className:"filesView",children:n.map((function(e){var t=e.id,n=e.item;return Object(v.jsx)(g,{id:t,caption:n.name,size:n.size,timestamp:n.timestamp,onDeleted:s})}))})}),w=(n(77),n.p+"static/media/google-drive-logo.6ccd3e56.svg"),_=n(52),N=n.n(_),k=function(){return Object(v.jsxs)("div",{className:"header",children:[Object(v.jsxs)("div",{className:"header__logo",children:[Object(v.jsx)("img",{src:w,alt:""}),Object(v.jsx)("span",{children:"DriveX"})]}),Object(v.jsx)("div",{className:"header__searchContainer",children:Object(v.jsxs)("div",{className:"header__searchBar",children:[Object(v.jsx)(N.a,{}),Object(v.jsx)("input",{type:"text",placeholder:"Search in Drive"})]})}),Object(v.jsx)("div",{className:"header__icons"})]})},S=n(105),I=(n(78),n(104)),C=n(107);var B=function(e){var t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB"][t]};var F=n(37),E=n.n(F),A=(n(79),function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(null),o=Object(r.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){var e=setInterval((function(){m(O).then((function(e){var t=Object.keys(e.data),n=[];t.forEach((function(t){var c=e.data[t];n.push({id:t,item:c})})),s(n),console.log("files",n)})).catch((function(e){console.log(e),alert(e)}))}),3e3);return window.addEventListener("mousemove",(function(){})),function(){clearInterval(e),window.removeEventListener("mousemove",(function(){}))}}),[]);return Object(v.jsxs)("div",{className:"uploads",children:[Object(v.jsxs)("div",{className:"newUploadTask",children:[Object(v.jsx)("input",{type:"text",placeholder:"  Enter url or magnet",className:"newUploadTask__input",onChange:function(e){d(e.target.value)}}),Object(v.jsxs)("span",{className:"newUploadTask__submit",onClick:function(){x("createUploadTask",{url:l}).then((function(e){console.log("Upload started",e),alert("Upload started")})).catch((function(e){console.log("Failure to start upload",e),alert("Failure to start upload")}))},children:[Object(v.jsx)(E.a,{style:{color:"green"}}),Object(v.jsx)("text",{style:{marginLeft:"5px"},children:"Upload"})]})]}),Object(v.jsx)("div",{className:"upload__tasks",children:a.map((function(e){var t=e.id,n=e.item;return Object(v.jsxs)("div",{className:"uploads__single__task",style:{background:"linear-gradient(to right, rgb(118 232 169 / 98%) ".concat(n.downloaded/n.total*100,"%, white 0%)")},children:[Object(v.jsx)("span",{className:"uploads__task__name",children:t}),Object(v.jsxs)("span",{className:"uploads__task__progress",children:[B(n.downloaded),"/",B(n.total)]})]})}))})]})});function D(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}var T=Object(I.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),U=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=(t[0],t[1]);Object(c.useEffect)((function(){m(O).then((function(e){var t=Object.keys(e.data),c=[];t.forEach((function(t){var n=e.data[t];c.push({id:t,item:n})})),n(c),console.log("files",c)})).catch((function(e){console.log(e),alert(e)}))}),[]);var a=T(),s=Object(c.useState)(D),i=Object(r.a)(s,1)[0],o=Object(c.useState)(!1),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(c.useState)(null),b=Object(r.a)(u,2),h=(b[0],b[1],Object(c.useState)(!1)),p=Object(r.a)(h,2);p[0],p[1];return Object(v.jsxs)("div",{className:"newFile",children:[Object(v.jsxs)("div",{className:"newFile__container",onClick:function(){j(!0)},children:[Object(v.jsx)(E.a,{style:{color:"green"}}),Object(v.jsx)("p",{children:"Uploads"})]}),Object(v.jsx)(C.a,{open:d,onClose:function(){j(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(v.jsx)("div",{style:i,className:a.paper,children:Object(v.jsx)(A,{open:d})})})]})},P=(n(80),function(e){e.arrow;var t=e.icon,n=e.label;return Object(v.jsx)("div",{className:"sideBarItem",children:Object(v.jsxs)("div",{className:"sideBarItem__main",children:[t,Object(v.jsx)("p",{children:n})]})})}),G=(n(81),n(53)),L=n.n(G),z=function(){return Object(v.jsxs)("div",{className:"sideBar",children:[Object(v.jsx)(U,{}),Object(v.jsxs)("div",{className:"sideBar__itemsContainer",children:[Object(v.jsx)(P,{arrow:!0,icon:Object(v.jsx)(j.a,{}),label:"Files"}),Object(v.jsx)(P,{arrow:!0,icon:Object(v.jsx)(L.a,{}),label:"Drives"}),Object(v.jsx)(P,{arrow:!0,icon:Object(v.jsx)(S.a,{}),label:"Bin"}),Object(v.jsx)("hr",{})]})]})},M=n(54),J=n.n(M),Q=n(55),V=n.n(Q),W=(n(82),function(e){var t=e.email,n=e.capacity,c=e.usedPercentage,a=e.status;return Object(v.jsxs)("div",{className:"driveItem",style:{background:"linear-gradient(to right, rgb(237 237 237 / 61%) ".concat(c,"%, white 0%)")},children:[Object(v.jsx)("div",{className:"driveItem--left",children:Object(v.jsx)("p",{children:t})}),Object(v.jsxs)("div",{className:"driveItem--right",children:["connected"==a?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(J.a,{style:{color:"green"}})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(V.a,{})}),Object(v.jsx)("div",{className:"driveItem-capacity",children:Object(v.jsx)("p",{children:n})})]})]})}),X=(n(83),n(106));function Y(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}var K=Object(I.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),H=function(){var e=K(),t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){m("listDrives").then((function(e){var t=Object.keys(e.drives),n=[];t.forEach((function(t){var c=e.drives[t];n.push({email:c.user.emailAddress,capacity:c.storageQuota.usageInGB+"/"+c.storageQuota.totalInGB,usedPercentage:parseInt(c.storageQuota.usage,10)/parseInt(c.storageQuota.limit,10)*100})})),s(n),console.log("drives",n)}))}),[]);var i=Object(c.useState)(Y),o=Object(r.a)(i,1)[0],l=Object(c.useState)(!1),d=Object(r.a)(l,2),j=d[0],u=d[1],b=Object(c.useState)(null),h=Object(r.a)(b,2),p=h[0],f=h[1],O=function(){u(!1)};return Object(v.jsxs)("div",{className:"drivesView",children:[Object(v.jsxs)("div",{className:"drivesView--header",children:[Object(v.jsx)("p",{style:{fontWeight:"500",fontSize:"x-large"},children:"Drives"}),Object(v.jsxs)("span",{onClick:function(){m("addDrive").then((function(e){window.open(e.authUrl,"_blank")})),u(!0)},style:{marginLeft:"50px",color:"rgb(51, 103, 214)",fontWeight:"bold",display:"flex",cursor:"pointer"},children:[Object(v.jsx)(X.a,{style:{color:"rgb(51, 103, 214)"}}),"Add"]})]}),a.map((function(e){var t=e.email,n=e.capacity,c=e.usedPercentage;return Object(v.jsx)(W,{email:t,capacity:n,usedPercentage:c,status:"connected"},t)})),Object(v.jsx)(C.a,{open:j,onClose:O,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(v.jsxs)("div",{style:o,className:e.paper,children:[Object(v.jsx)("p",{children:"Copy the code from the new tab and paste here"}),Object(v.jsx)("input",{type:"text",value:p,onChange:function(e){f(e.target.value)}}),Object(v.jsx)("button",{onClick:function(){console.log("auth code : ",p);var e="".concat("submitAuthCode","?code=").concat(p);m(e).then((function(e){console.log(e),O()}))},children:"Submit"})]})})]})};var R=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)("div",{className:"App",children:n?Object(v.jsxs)("div",{className:"app__login",children:[Object(v.jsx)("img",{src:w,alt:"GDriveX"}),Object(v.jsx)("button",{onClick:function(){n||l.signInWithPopup(d).then((function(e){window.sessionStorage.setItem("user",JSON.stringify(e.user)),a(e.user),console.log(e)}))},children:"Log in to GDriveX"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{}),Object(v.jsxs)("div",{className:"app__main",children:[Object(v.jsx)(z,{}),Object(v.jsx)(y,{})]}),Object(v.jsx)("div",{children:Object(v.jsx)(H,{})})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(R,{})}),document.getElementById("root")),Z()}},[[84,1,2]]]);
//# sourceMappingURL=main.02c752c5.chunk.js.map